name: Test

on: [ push ]

jobs:
  test:
    strategy:
      matrix:
        nginx_versions:
          - nginx:1.21.6
          - nginx:1.20.2

    name: Check that the unut test are all passing
    runs-on: ubuntu-20.04
    steps:
      - name: Docker image
        run: docker pull ${{ matrix.nginx_versions }}
      - name: Docker run
        run: docker run -d --name webserver -p 80:80 nginx
      - name: HTTP REQUEST
        run: curl http://localhost
      - name: Docker stop
        run: docker stop webserver




